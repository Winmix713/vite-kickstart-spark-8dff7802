import * as React from 'react'; import {useLocation} from 'react-router-dom'; const SidebarContext = React.createContext(undefined); export const SidebarProvider = ({children}) => { const[open, setOpen] = React.useState(false); const location = useLocation(); // close sidebar when route changes React.useEffect(() => { setOpen(false); }, [location]); // Handle scroll lock React.useEffect(() => { if (open) { document.documentElement.classList.add('no-scroll'); } else { document.documentElement.classList.remove('no-scroll'); } return () => { document.documentElement.classList.remove('no-scroll'); } }, [open]); return ( <SidebarContext.Provider value={{open, setOpen}}> {children} </SidebarContext.Provider> ) } export const useSidebar = () => React.useContext(SidebarContext); 