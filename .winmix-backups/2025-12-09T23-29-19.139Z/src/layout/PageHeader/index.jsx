// styling import styles from './styles.module.scss'; // components import { Helmet } from SidebarTrigger from '@ui/SidebarTrigger'; import User from './User'; import Search from './Search'; import TruncatedText from '@components/TruncatedText'; import AdminQuickActions from './AdminQuickActions'; // hooks import { useWindowSize } from { useThemeProvider } from '@contexts/themeContext'; import { useShopProvider } from useMeasure from 'react-use-measure'; import useStoreRoute from '@hooks/useStoreRoute'; import { useMemo, memo, useCallback } from 'react'; // utils import PropTypes from 'prop-types'; // Constants const BREAKPOINTS = { MOBILE: 768, TABLET: 1280, LARGE_DESKTOP: 1920 }; const CART_ITEMS_MOCK = 2; // TODO: Replace with actual cart state /** * Mobile Header Component - renders title only */ const MobileHeader = memo(({ title }) => ( <h1 className={'${styles.title} h2'}>{title}</h1> )); MobileHeader.displayName = 'MobileHeader'; MobileHeader.propTypes = { title: PropTypes.string.isRequired }; /** * Tablet Header Component - simplified layout for tablet devices */ const TabletHeader = memo(({ title }) => { const[ref, { width }] = useMeasure(); return ( <div className={'${styles.tablet} d-flex align-items-center justify-content-between g-20'}> <div className="d-flex align-items-center flex-1 g-30"> <SidebarTrigger /> <div className="flex-1" ref={ref}> <TruncatedText className={'${styles.title} h2'} text={title} width={width} lines={1} /> </div> </div> <div className="d-flex align-items-center g-20"> <Search /> <User /> </div> </div> ); }); TabletHeader.displayName = 'TabletHeader'; TabletHeader.propTypes = { title: PropTypes.string.isRequired }; /** * Theme Toggle Button Component */ const ThemeToggleButton = memo(({ theme, onToggle }) => ( <button className={'${styles.control} h5'} onClick={onToggle} aria-label={'Switch to ${theme === 'light' ? 'dark' : 'light'} theme'} > <i className={'icon-${theme === 'light' ? 'moon' : 'sun'}'} /> Theme </button> )); ThemeToggleButton.displayName = 'ThemeToggleButton'; ThemeToggleButton.propTypes = { theme: PropTypes.string.isRequired, onToggle: PropTypes.func.isRequired }; /** * Cart Button Component */ const CartButton = memo(({ itemCount, onClick }) => ( <button className={'${styles.control} h5'} onClick={onClick} aria-label={'Shopping cart with ${itemCount} items'} > <i className="icon icon-bag-solid" /> {itemCount > 0 && <span className={styles.control_indicator} />} Cart {itemCount > 0 && '(${itemCount} ${itemCount === 1 ? 'item' : 'items'})'} </button> )); CartButton.displayName = 'CartButton'; CartButton.propTypes = { itemCount: PropTypes.number.isRequired, onClick: PropTypes.func.isRequired }; /** * Desktop Header Component - full featured layout for desktop devices */ const DesktopHeader = memo(({ title }) => { const { width } = useWindowSize(); const { theme, toggleTheme } = useThemeProvider(); const { setCartOpen, cartItems = [] } = useShopProvider(); const[ref, { width: titleWidth }] = useMeasure(); const isStoreRoute = useStoreRoute(); const shouldShowSidebarTrigger = useMemo( () => width < BREAKPOINTS.LARGE_DESKTOP, [width] ); const cartItemCount = useMemo( () => cartItems.length || CART_ITEMS_MOCK, [cartItems] ); const handleCartOpen = useCallback(() => { setCartOpen(true); }, [setCartOpen]); return ( <div className={'${styles.desktop} d-flex justify-content-between align-items-center g-20'}> <div className="d-flex align-items-center flex-1 g-30"> {shouldShowSidebarTrigger && <SidebarTrigger />} <div className="flex-1" ref={ref}> <TruncatedText className={'${styles.title} h2'} text={title} width={titleWidth} lines={1} /> </div> </div> <div className="d-flex align-items-center"> <Search /> <div className={'${styles.quick_actions} d-flex g-30'} style={{ margin: '0 50px' }}> <ThemeToggleButton theme={theme} onToggle={toggleTheme} /> <AdminQuickActions /> {isStoreRoute && ( <CartButton itemCount={cartItemCount} onClick={handleCartOpen} /> )} </div> <User /> </div> </div> ); }); DesktopHeader.displayName = 'DesktopHeader'; DesktopHeader.propTypes = { title: PropTypes.string.isRequired }; /** * Main PageHeader Component - responsive header with SEO support * @param {string} title - Page title * @param {string} metaDescription - Optional meta description for SEO * @param {string} metaKeywords - Optional meta keywords for SEO */ const PageHeader = ({ title, metaDescription = '', metaKeywords = '' }) => { const { width } = useWindowSize(); const headerComponent = useMemo(() => { if (width < BREAKPOINTS.MOBILE) { return <MobileHeader title={title} />; } if (width < BREAKPOINTS.TABLET) { return <TabletHeader title={title} />; } return <DesktopHeader title={title} />; }, [width, title]); return ( <> <Helmet> <title>{title} | Liga Soccer React Dashboard</title> {metaDescription && <meta name="description" content={metaDescription} />} {metaKeywords && <meta name="keywords" content={metaKeywords} />} <meta property="og:title" content={'${title} | Liga Soccer React Dashboard'} /> {metaDescription && <meta property="og:description" content={metaDescription} />} </Helmet> {headerComponent} </> ); }; PageHeader.propTypes = { title: PropTypes.string.isRequired, metaDescription: PropTypes.string, metaKeywords: PropTypes.string }; export default memo(PageHeader)
