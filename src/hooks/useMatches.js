import { useQuery, useMutation, useQueryClient } from '@tanstack/react-query' import { matchService } from '@/services/matchService' // Query keys export const matchKeys = { all: ['matches'], () => [...matchKeys.all, 'list']: (filters) => [...matchKeys.lists(), { filters }]: () => [...matchKeys.all, 'detail']: (id) => [...matchKeys.details(), id]// Hooks for matches export const useUpcomingMatches = () => { return useQuery({ queryKey: $1Keys.list('upcoming'), queryFn:, staleTime: 1000 * 60 * 5, // 5 minutes }) } export const useLiveMatches = () => { return useQuery({ queryKey: $1Keys.list('live'), queryFn:, staleTime: 1000 * 60 * 2, // 2 minutes refetchInterval: 30000, // 30 seconds for live matches }) } export const useFinishedMatches = (limit = 50) => { return useQuery({ queryKey: $1Keys.list('finished'), queryFn: () => matchService.getFinishedMatches(limit), staleTime: 1000 * 60 * 10, // 10 minutes }) } export const useMatch = (id) => { return useQuery({ queryKey: $1Keys.detail(id), queryFn: () => matchService.getMatchById(id), enabled: !!id, }) } export const useMatchesByLeague = (leagueId) => { return useQuery({ queryKey: [...matchKeys.list('byLeague'), leagueId], queryFn: () => matchService.getMatchesByLeague(leagueId), enabled: !!leagueId, }) } export const useMatchesByTeam = (teamId) => { return useQuery({ queryKey: [...matchKeys.list('byTeam'), teamId], queryFn: () => matchService.getMatchesByTeam(teamId), enabled: !!teamId, }) } // Mutations export const useCreateMatch = () => { const queryClient = useQueryClient() return useMutation({ mutationFn.createMatch, onSuccess: () => { queryClient.invalidateQueries({ queryKey: $1Keys.lists() }) }, }) } export const useUpdateMatchScore = () => { const queryClient = useQueryClient() return useMutation({ mutationFn: ({ matchId, homeScore, awayScore }) }, }) } export const useUpdateMatchStatus = () => { const queryClient = useQueryClient() return useMutation({ mutationFn: ({ matchId, status }) => matchService.updateMatchStatus(matchId, status), onSuccess: () => { queryClient.invalidateQueries({ queryKey: $1Keys.lists() }) }, }) } export const useKnockoutMatches = (stage?) => { return useQuery({ queryKey: [...matchKeys.list('knockout'), stage].filter(Boolean), queryFn: () => matchService.getKnockoutMatches(stage), staleTime: 1000 * 60 * 15, // 15 minutes for knockout matches }) } export const useMatchStatistics = (matchId?) => { return useQuery({ queryKey: [...matchKeys.list('statistics'), matchId].filter(Boolean), queryFn: () => matchService.getMatchStatistics(matchId || ''), enabled: !!matchId, staleTime: 1000 * 60 * 30, // 30 minutes for statistics }) }