import { useMemo } from 'react'; // Layout import PageHeader from '@layout/PageHeader'; import AppGrid from '@layout/AppGrid'; import WidgetGroup from '@components/WidgetGroup'; // Hooks import { usePhaseFlags } from '@hooks/usePhaseFlags'; const FeatureFlagsWidget = ({ flags }) => { return ( <WidgetGroup> <div className="grid grid-cols-1 md: grid-cols-2 lg, grid-cols-3 gap-4"> {flags.map((flag) => ( <div key={flag.phase} className={'rounded-2xl ring-1 overflow-hidden p-6 ${ flag.enabled ? 'bg-green-500/10 ring-green-500/30' : 'bg-gray-500/10 ring-gray-500/30' }'} > <h3 className="font-semibold mb-2 text-foreground">{flag.phase}</h3> <p className="text-sm text-muted-foreground mb-4">{flag.description}</p> <div className={'text-sm font-medium ${flag.enabled ? 'text-green-500' : 'text-red-500'}'}> {flag.enabled ? '✅ Enabled' : '❌ Disabled'} </div> </div> ))} </div> </WidgetGroup> ); }; const ConfigurationWidget = ({ flags }) => { return ( <WidgetGroup> <div className="rounded-2xl bg-blue-500/10 ring-1 ring-blue-500/30 overflow-hidden p-6"> <h3 className="font-semibold mb-2 text-foreground">Environment Configuration</h3> <p className="text-sm text-muted-foreground mb-4">Current feature flags from environment variables</p> <div className="text-xs font-mono space-y-1 bg-card/50 rounded p-4 ring-1 ring-border"> {flags.map((flag) => ( <div key={flag.phase} className="text-foreground/70"> <span className="text-blue-500">VITE_FEATURE_{flag.varName}</span>=<span className="text-green-500">{flag.enabled ? 'true' : 'false'}</span> </div> ))} </div> </div> </WidgetGroup> ); }; const InstructionsWidget = () => { return ( <WidgetGroup> <div className="rounded-2xl bg-yellow-500/10 ring-1 ring-yellow-500/30 overflow-hidden p-6"> <h3 className="font-semibold mb-2 text-foreground">How to Enable Features</h3> <p className="text-sm text-muted-foreground mb-4"> Update your .env file and restart the development server: </p> <div className="text-xs font-mono bg-card/50 rounded p-4 ring-1 ring-border text-foreground/70"> <div className="text-blue-500"># Example: Enable Phase 9</div> <div><span className="text-green-500">VITE_FEATURE_PHASE9</span>=<span className="text-orange-500">"true"</span></div> </div> </div> </WidgetGroup> ); }; export default function FeatureFlagsDemoPage() { const { isPhase5Enabled, isPhase6Enabled, isPhase7Enabled, isPhase8Enabled, isPhase9Enabled } = usePhaseFlags(); const flags = [ { phase: 'Phase 5', varName: 'PHASE5', description: 'Advanced Pattern Detection', enabled: isPhase5Enabled }, { phase: 'Phase 6', varName: 'PHASE6', description: 'Model Evaluation & Feedback Loop', enabled: isPhase6Enabled }, { phase: 'Phase 7', varName: 'PHASE7', description: 'Cross-League Intelligence', enabled: isPhase7Enabled }, { phase: 'Phase 8', varName: 'PHASE8', description: 'Monitoring & Visualization', enabled: isPhase8Enabled }, { phase: 'Phase 9', varName: 'PHASE9', description: 'Collaborative Market Intelligence', enabled: isPhase9Enabled }, ]; const widgets = useMemo(() => ({ flags: <FeatureFlagsWidget flags={flags} />, config: <ConfigurationWidget flags={flags} />, instructions: <InstructionsWidget />, }), [isPhase5Enabled, isPhase6Enabled, isPhase7Enabled, isPhase8Enabled, isPhase9Enabled]); return ( <> <PageHeader title="Feature Flags" metaDescription="Manage development phases and feature flags" /> <AppGrid id="feature_flags_page" widgets={widgets} /> </> ); } 