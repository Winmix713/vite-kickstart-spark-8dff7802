import React, { useState } from 'react'; import { useThemeManager } from '@hooks/useThemeManager'; // components import Spring from '@components/Spring'; import TabButton from '@ui/TabButton'; const AdminDesign = () => { const { theme, themes, updateColors, updateTypography, applyPreset, resetToDefault, exportAsJSON, importFromJSON } = useThemeManager(); const[activeTab, setActiveTab] = useState('colors'); const[showImportDialog, setShowImportDialog] = useState(false); const[importText, setImportText] = useState(''); const handleExport = () => { const json = exportAsJSON(); const blob = new Blob([json], { type: 'application/json' }); const url = URL.createObjectURL(blob); const a = document.createElement('a'); a.href = url; a.download = 'theme-${new Date().toISOString().split('T')[0]}.json'; document.body.appendChild(a); a.click(); document.body.removeChild(a); URL.revokeObjectURL(url); }; const handleImport = () => { try { importFromJSON(importText); setShowImportDialog(false); setImportText(''); alert('Téma sikeresen importálva!'); } catch (error) { alert('Hiba az importálás során: ${error.message}'); } }; return ( <div className="space-y-6"> {/* Header */} <div className="flex items-center justify-between"> <div> <h1 className="text-2xl font-bold text-white">Terv</h1> <p className="text-gray-400">Téma és design testreszabása</p> </div> <div className="flex gap-2"> <button onClick={resetToDefault} className="btn btn--outline"> Alaphelyzetbe állítás </button> <button onClick={handleExport} className="btn btn--primary"> Exportálás </button> <button onClick={() => setShowImportDialog(true)} className="btn btn--primary"> Importálás </button> </div> </div> {/* Theme Presets */} <Spring className="card p-4"> <h3 className="text-lg font-semibold text-white mb-4">Téma előre beállítások</h3> <div className="grid grid-cols-1 md:grid-cols-3 gap-4"> {Object.entries(themes).map(([key, presetTheme]) => ( <div key={key} className={'p-4 rounded-lg border cursor-pointer transition-colors ${ theme.id === key ? 'border-emerald-500 bg-emerald-500/10' : 'border-gray-600 hover, border-gray-500' }'} onClick={() => applyPreset(key)} > <div className="flex items-center gap-3 mb-2"> <div className="w-4 h-4 rounded-full" style={{ backgroundColor: presetTheme.colors.primary }} /> <div className="w-4 h-4 rounded-full" style={{ backgroundColor: presetTheme.colors.secondary }} /> <div className="w-4 h-4 rounded-full" style={{ backgroundColor: presetTheme.colors.accent }} /> </div> <h4 className="font-semibold text-white">{presetTheme.name}</h4> <p className="text-sm text-gray-400">{presetTheme.description}</p> </div> ))} </div> </Spring> {/* Current Theme Preview */} <Spring className="card p-4"> <h3 className="text-lg font-semibold text-white mb-4">Élő előnézet</h3> <div className="bg-gray-900 p-6 rounded-lg" style={{ backgroundColor: theme.colors.background }}> <h4 className="text-xl font-bold mb-2" style={{ color: theme.colors.foreground }} > {theme.name} </h4> <p className="mb-4" style={{ color: theme.colors.muted }} > {theme.description} </p> <div className="flex gap-2 mb-4"> <div className="px-3 py-1 rounded text-sm" style={{ backgroundColor: theme.colors.primary, color: theme.colors.background }} > Primary </div> <div className="px-3 py-1 rounded text-sm" style={{ backgroundColor: theme.colors.secondary, color: theme.colors.background }} > Secondary </div> <div className="px-3 py-1 rounded text-sm" style={{ backgroundColor: theme.colors.accent, color: theme.colors.background }} > Accent </div> </div> <div style={{ fontFamily: theme.typography.fontFamily }}> <p className="text-xs" style={{ color: theme.colors.foreground }}>Text xs</p> <p className="text-sm" style={{ color: theme.colors.foreground }}>Text sm</p> <p className="text-base" style={{ color: theme.colors.foreground }}>Text base</p> <p className="text-lg" style={{ color: theme.colors.foreground }}>Text lg</p> <p className="text-xl" style={{ color: theme.colors.foreground }}>Text xl</p> </div> </div> </Spring> {/* Customization Tabs */} <Spring className="card card-padded"> <div className="space-y-4"> <div className="flex gap-2"> <button onClick={() => setActiveTab('colors')} className={'btn ${activeTab === 'colors' ? 'btn--primary' : 'btn--outline'}'} > Színek </button> <button onClick={() => setActiveTab('typography')} className={'btn ${activeTab === 'typography' ? 'btn--primary' : 'btn--outline'}'} > Tipográfia </button> </div> {activeTab === 'colors' && ( <div className="space-y-4"> <h4 className="text-lg font-semibold text-white">Szín testreszabás</h4> <div className="grid grid-cols-1 md:grid-cols-2 gap-4"> {Object.entries(theme.colors).map(([key, value]) => ( <div key={key} className="flex items-center gap-3"> <div className="w-8 h-8 rounded border border-gray-600" style={{ backgroundColor: value }} /> <div className="flex-1"> <label className="block text-sm font-medium text-gray-300 capitalize"> {key} </label> <input type="text" value={value} onChange={(e) => updateColors({ [key]: e.target.value })} className="input mt-1" /> </div> </div> ))} </div> </div> )} {activeTab === 'typography' && ( <div className="space-y-4"> <h4 className="text-lg font-semibold text-white">Tipográfia</h4> <div> <label className="block text-sm font-medium text-gray-300 mb-2"> Betűtípus </label> <input type="text" value={theme.typography.fontFamily} onChange={(e) => updateTypography({ fontFamily: e.target.value })} className="input w-full" /> </div> <div className="grid grid-cols-2 md:grid-cols-5 gap-4"> {Object.entries(theme.typography.fontSize).map(([key, value]) => ( <div key={key}> <label className="block text-sm font-medium text-gray-300 capitalize mb-1"> {key} </label> <input type="number" value={value} onChange={(e) => updateTypography({ fontSize })} /> </div> ))} </div> </div> )} </div> </Spring> {/* Import Dialog */} {showImportDialog && ( <div className="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"> <Spring className="card p-6 max-w-md w-full mx-4"> <h3 className="text-lg font-bold text-white mb-4">Téma importálása</h3> <textarea value={importText} onChange={(e) => setImportText(e.target.value)} placeholder="Illessze be a JSON tartalmat..." className="w-full h-40 p-3 bg-gray-800 text-white rounded border border-gray-600" /> <div className="flex gap-2 mt-4"> <Button onClick={handleImport}>Importálás</Button> <Button onClick={() => setShowImportDialog(false)} variant="outline"> Mégse </Button> </div> </Spring> </div> )} </div> ); }; export default AdminDesign;