import { supabase } from '@/integrations/supabase/client' export const eventService = { async getAllEvents() { const { data, error } = await supabase .from('events') .select('*') .order('start_time', { ascending: true }) if (error) throw error return data || [] }, async getEventsByDateRange(startDate, endDate) { const { data, error } = await supabase .from('events') .select('*') .gte('start_time', startDate) .lte('end_time', endDate) .order('start_time', { ascending: true }) if (error) throw error return data || [] }, async getEventById(id) { const { data, error } = await supabase .from('events') .select('*') .eq('id', id) .single() if (error) { if (error.code === 'PGRST116') return null // No rows returned throw error } return data }, async createEvent(eventData) { const { data, error } = await supabase .from('events') .insert(eventData) .select() .single() if (error) throw error return data }, async updateEvent(id, updates) { const { data, error } = await supabase .from('events') .update({ ...updates, updated_at: new Date().toISOString() }) .eq('id', id) .select() .single() if (error) throw error return data }, async deleteEvent(id) { const { error } = await supabase .from('events') .delete() .eq('id', id) if (error) throw error } }