import { supabase } from '@/integrations/supabase/client' export const leagueService = { async getAllLeagues() { const { data, error } = await supabase .from('leagues') .select('*') .order('name', { ascending: true }) if (error) throw error return data || [] }, async getActiveLeagues() { const { data, error } = await supabase .from('leagues') .select('*') .eq('is_active', true) .order('name', { ascending: true }) if (error) throw error return data || [] }, async getLeagueById(id) { const { data, error } = await supabase .from('leagues') .select('*') .eq('id', id) .single() if (error) { if (error.code === 'PGRST116') return null throw error } return data }, async createLeague(leagueData) { const { data, error } = await supabase .from('leagues') .insert(leagueData) .select() .single() if (error) throw error return data }, async updateLeague(id, updates) { const { data, error } = await supabase .from('leagues') .update({ ...updates, updated_at: new Date().toISOString() }) .eq('id', id) .select() .single() if (error) throw error return data }, async deleteLeague(id) { const { error } = await supabase .from('leagues') .delete() .eq('id', id) if (error) throw error } }