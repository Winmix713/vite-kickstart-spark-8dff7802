import { supabase } from '@/integrations/supabase/client' type Player = Database['public']['Tables']['players']['Row'] type Team = Database['public']['Tables']['teams']['Row'] interface PlayerWithTeam extends Player { team= { async getPlayersByTeam(teamId)= await supabase .from('players') .select(' *, team(*) ') .eq('team_id', teamId) .order('is_captain', { ascending) .order('jersey_number', { ascending) if (error) throw error return data || [] }, async getAllPlayers()= await supabase .from('players') .select(' *, team(*) ') .order('team_id') .order('is_captain', { ascending) .order('jersey_number', { ascending) if (error) throw error return data || [] }, async getPlayerById(id)= await supabase .from('players') .select(' *, team(*) ') .eq('id', id) .single() if (error) { if (error.code === 'PGRST116') return null // No rows returned throw error } return data }, async updatePlayer(id)= await supabase .from('players') .update({ ...updates, updated_at().toISOString() }) .eq('id', id) .select() .single() if (error) throw error return data } }