// components import Spring from '@components/Spring'; import { Swiper, SwiperSlide } from {Autoplay, Navigation} from 'swiper'; import ProductColumnCard from '@components/ProductColumnCard'; import SwiperControls from '@ui/SwiperControls'; // hooks import { useEffect, useState } from {useThemeProvider} from '@contexts/themeContext'; // hooks import { useFeaturedProducts } from '@hooks/useProducts'; const BrandProducts = () => { const {direction} = useThemeProvider(); const[swiper, setSwiper] = useState(null); // Get featured products from Supabase const { data: products, isLoading, error } = useFeaturedProducts(10); useEffect(() => { if (swiper) { swiper.changeLanguageDirection(direction); swiper.update(); } }, [swiper, direction]); // Show loading state if (isLoading) { return ( <Spring className="h-2 h-100 p-relative"> <div className="flex items-center justify-center h-32"> <div className="text-gray-500">Loading products...</div> </div> </Spring> ); } // Show error state if (error) { return ( <Spring className="h-2 h-100 p-relative"> <div className="flex items-center justify-center h-32"> <div className="text-red-500">Error loading products</div> </div> </Spring> ); } // Show empty state if (!products || products.length === 0) { return ( <Spring className="h-2 h-100 p-relative"> <div className="flex items-center justify-center h-32"> <div className="text-gray-500">No products available</div> </div> </Spring> ); } return ( <Spring className="h-2 h-100 p-relative"> <Swiper className="h-100" spaceBetween={24} slidesPerView={1} onSwiper={setSwiper} dir={direction} modules={[Autoplay, Navigation]} speed={1200} autoplay={{ delay: 2000, disableOnInteraction: false, pauseOnMouseEnter: true }} loop={products.length > 1} breakpoints={{ 767, 1279, 1499 }} > { products.map((product, index) => ( <SwiperSlide key={product.id} style={{margin: direction === 'ltr' ? '0 24px 0 0' , '0 0 0 24px'}}> <ProductColumnCard product={product}/> </SwiperSlide> )) } </Swiper> <SwiperControls swiper={swiper}/> </Spring> ) } export default BrandProducts